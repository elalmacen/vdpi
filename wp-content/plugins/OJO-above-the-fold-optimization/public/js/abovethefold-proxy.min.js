!function(a,b){var c,d,e=!1,f=!1,g=!1,h=!1,i=!1,j=!1,k=!1,l=!1,m=[],n=[],o=[],p={},q=[];a.Abtf.proxy_setup=function(a){if("undefined"==typeof b)var b=!1;if(c=a.url||b,e=a.js||!1,f=a.css||!1,g=a.cdn||!1,g&&q.push(g),h=a.js_include||!1,i=a.js_exclude||!1,j=a.css_include||!1,k=a.css_exclude||!1,a.preload){l=!0;for(var r=0;r<a.preload.length;r++)"regex"===a.preload[r][0]?(o.push([a.preload[r][2],a.preload[r][3],a.preload[r][1]]),a.preload[r][4]&&(p[a.preload[r][0]]=a.preload[r][4],q.indexOf(a.preload[r][4])===-1&&q.push(a.preload[r][4]))):(m.push(a.preload[r][0]),n.push(a.preload[r][1]),a.preload[r][4]&&(p[a.preload[r][0]]=a.preload[r][4],q.indexOf(a.preload[r][4])===-1&&q.push(a.preload[r][4])));d=a.base||!1}if(0===q.length)q=!1;else for(var s=q.length,r=0;r<s;r++)q[r]=v(q[r])};var r={Element:"undefined"!=typeof Element&&Element,Document:"undefined"!=typeof Document&&Document},s={append:{},insert:{}};for(var t in r)r.hasOwnProperty(t)&&r[t]&&(s.append[t]=r[t].prototype.appendChild,s.insert[t]=r[t].prototype.insertBefore);var u=document.createElement("a");u.href=document.location.href;var v=function(a){var b=document.createElement("a");return b.href=a,b},w=function(a,b){if(l){var e=m.indexOf(a);if(e>-1)var f=n[e];else if(o.length>0)for(var g,h,i=o.length,j=0;j<i;j++){h=!1;try{g=new RegExp(o[j][0],o[j][1]||"")}catch(a){h=!0}if(!h&&g.test(a)){o[j][2]?f=o[j][2]:o[j][3]&&(a=o[j][3]);break}}if(f){if("undefined"!=typeof p[a])var k=p[a];else var k=d;return k+=f.substr(0,2)+"/",k+=f.substr(2,2)+"/",k+=f.substr(4,2)+"/",k+=f.substr(6,2)+"/",k+=f.substr(8,2)+"/",k+=f,"js"===b?k+=".js":"css"===b&&(k+=".css"),k}}return"css"===b?c.replace("{PROXY:URL}",escape(a)).replace("{PROXY:TYPE}",escape(b)):"js"===b?c.replace("{PROXY:URL}",escape(a)).replace("{PROXY:TYPE}",escape(b)):void 0},x=function(a){if(a.nodeName)if("SCRIPT"===a.nodeName.toUpperCase()){if(!e)return!1;if(a.src){var b=v(a.src);if(q)for(var c=q.length,d=0;d<c;d++)if(b.href.indexOf(q[d].href)!==-1)return!1;if(b.host===u.host)return!1;if(h){for(var g=!1,c=h.length,d=0;d<c;d++)if(b.href.indexOf(h[d])!==-1){g=!0;break}if(!g)return!1}if(i)for(var c=i.length,d=0;d<c;d++)if(b.href.indexOf(i[d])!==-1)return!1;return"js"}}else if("LINK"===a.nodeName.toUpperCase()&&"stylesheet"===a.rel.toLowerCase()){if(!f)return!1;if(a.href){var b=v(a.href);if(q)for(var c=q.length,d=0;d<c;d++)if(b.href.indexOf(q[d].href)!==-1)return!1;if(b.host===u.host)return!1;if(j){for(var g=!1,c=j.length,d=0;d<c;d++)if(b.href.indexOf(j[d])!==-1){g=!0;break}if(!g)return!1}if(k)for(var c=k.length,d=0;d<c;d++)if(b.href.indexOf(k[d])!==-1)return!1;return"css"}}return!1},y=function(a){var b=x(a);if(!b)return!1;var c=v("css"===b?a.href:a.src).href,d=w(c,b);"css"===b?a.href=d:"js"===b&&(a.src=d)},z={appendChild:function(a,b){return y(b),s.append[a].call(this,b)},insertBefore:function(a,b,c){return y(b),s.insert[a].call(this,b,c)}};for(var t in r)r.hasOwnProperty(t)&&r[t]&&!function(a){r[a].prototype.appendChild=function(b){return z.appendChild.call(this,a,b)},r[a].prototype.insertBefore=function(b,c){return z.insertBefore.call(this,a,b,c)}}(t)}(window,window.Abtf);